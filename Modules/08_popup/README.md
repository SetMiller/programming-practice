# Создание всплывающего popup
За основу взят модуль [02_item data price sum calc](https://github.com/SetMiller/programming-practice/tree/master/Modules/02_item%20data%20price%20sum%20calc)

Цели и задачи: 
-  
* Повторить возможности использования и импорта классов;
* Передача параметров с помощью свойств объекта;
* Добавление возможности использовать цепочки вызовов;
* Передача информации из выбранного `item` в всплывающий `popup`;
* Скрытие `popup` по средствам блока подложки;

Интересные моменты:
-  
- При вызове метода `on` необходимо следить за правильностью передачи контекста, тк если вызывать следующим образом:
  ```javascript
  popup.on('click', popup.open)
  ```
  то контекстом вызова метода `open` будет `DOM element - item` по которому мы кликнули, что вызовет ошибку `Cannot read property 'classList' of undefined at HTMLDivElement.open`
- Чтобы правильно передать контекст вызова (пока) нашел 2 способа:
  * первый -> обернуть метод в функцию
    ```javascript
    popup.on('click', wrapperFunc)
    function wrapperFunc(){
      popup.open()
    }
    ```
  * второй -> использовать стрелочную функцию
    ```javascript
    popup.on('click', () => popup.open())
    ```

- При вызове функции `fadeClose()` есть возможность передать параметры времени анимации (`animationTimer`) и частоту кадров (`fps`)
- Функция `fade()` принимаюет три параметра:
  *  `elem` → элемент для которого меняем параметр opacity
  *  `f` → частота кадров 
  *  `t`  → время выполнения анимации
- Функция таймер и условие прерывания таймера
  ```javascript
  let timer = setInterval(function(){
        if (steps <= 0) {
          clearInterval(timer)
        }
      }
    , 1000)
  }
  ```
  
Примечание:
-
- Некоторый сумбур в логике методов импортируемого объекта
- Возможно ли объединить циклы методов `on` и `toggler`, а логику вынести в отдельные функции
- Возможно ли определить правильный контекст вызова метода `open` внутри класса `Popup`